import{execRules}from"./internal/ua-detector";import{osRules}from"./internal/os-rules";import{Version}from"./version";const propMap={ios:"isIOS",android:"isAndroid",windows:"isWindows",macos:"isMacOS"};function platformToOS(o){switch(o){case"Android":return"android";case"iPad":case"iPhone":case"iPod":return"ios";case"MacIntel":return"macos";case"Win32":return"windows"}}export class OSInfo{constructor(o,s){var e;let i;if(this.isIOS=!1,this.isAndroid=!1,this.isWindows=!1,this.isMacOS=!1,null==s?void 0:s.platform){const o=platformToOS(s.platform);void 0!==o&&(i={name:o,version:""})}let n=null!==(e=execRules(o,osRules))&&void 0!==e?e:i;n?(i&&i.name!==n.name&&(n=i),"macos"===n.name&&(null==s?void 0:s.maxTouchPoints)&&(n.name="ios",n.version=""),this[propMap[n.name]]=!0,this.version=Object.freeze(new Version(n.version))):this.version=Object.freeze(new Version(""))}}