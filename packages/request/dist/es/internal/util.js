import{concat}from"@just4/querystring/index";export function isCrossDomain(t){if("undefined"==typeof document||"function"!=typeof document.createElement)return!1;let e=document.createElement("div");e.innerHTML='<a href="'+t+'"></a>';let n=e.firstChild;const r=n.host!==location.host;return e=null,n=null,r}export function isOldIE(){return/MSIE\s+(\d+)/.test(navigator.userAgent)&&parseInt(RegExp.$1)<10}const reParseMIMEType=/(?:^|;\s*)(?:application|text)\/([a-z]+)/i;export function parseMIMEType(t){return t&&reParseMIMEType.test(t)?RegExp.$1.toLowerCase():""}export function isErrorStatus(t){return!(void 0===t||t>=200&&t<300||1223===t||304===t)}export function handleRequestResult(t,e){return t.requestWith=e,Object.freeze(t)}export function joinURL(t,e){const n=/^(?:(?:[a-z]+):)?\/{2,3}/;return n.test(e)?e:(/\/$/.test(t)||(t+="/"),/^\//.test(e)?n.test(t)?RegExp.lastMatch+t.replace(n,"").split("/")[0]+e:e:t+e)}export function concatURLParams(t,e,n){return t=concat(t,e,{ignoreEmpty:!1}),n&&(t=concat(t,{_:Date.now()})),t}export function setHeader(t,e,n,r=!0){const o=e.toLowerCase();Object.keys(t).some((e=>{if(e.toLowerCase()===o)return r&&(t[e]=n),!0}))||(t[e]=n)}