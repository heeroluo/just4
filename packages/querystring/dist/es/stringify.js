import{hasOwnProp,assignProps}from"@just4/util/index";function addToResult(n,o,e,t){if(null==e&&(e=""),""!==e||!t.ignoreEmpty){if("function"==typeof t.encode){o=t.encode(o);e=-1!==["boolean","string","number"].indexOf(typeof e)?t.encode(String(e)):""}n.push(o+"="+e)}}function handleMultiValues(n,o,e,t){e.forEach((e=>{addToResult(n,o,e,t)}))}export function stringify(n,o){const e=assignProps({encode:encodeURIComponent},o),t=[];let i,r;for(i in n)hasOwnProp(n,i)&&(r=n[i],Array.isArray(r)?handleMultiValues(t,i,r,e):addToResult(t,i,r,e));return t.join("&")}