import{hasOwnProp,assignProps}from"@just4/util/index";export function parse(e,r){if("string"!=typeof e)throw new Error("The str argument must be a string type");const t=assignProps({decode:decodeURIComponent},r),o=Object.create(null);return e.split("&").forEach((function(e){if(!e)return;const r=e.split("=");let n=r[0],s=r[1]||"";"function"==typeof t.decode&&(n=t.decode(n),s=t.decode(s)),hasOwnProp(o,n)?(Array.isArray(o[n])||(o[n]=[o[n]]),o[n].push(s)):o[n]=s})),o}