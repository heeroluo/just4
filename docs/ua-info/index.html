<!DOCTYPE html><html class="default" lang="en"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="IE=edge"/><title>@just4/ua-info</title><meta name="description" content="Documentation for @just4/ua-info"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="assets/style.css"/><link rel="stylesheet" href="assets/highlight.css"/><script defer src="assets/main.js"></script><script async src="assets/search.js" id="tsd-search-script"></script></head><body><script>document.documentElement.dataset.theme = localStorage.getItem("tsd-theme") || "os"</script><header class="tsd-page-toolbar">
<div class="tsd-toolbar-contents container">
<div class="table-cell" id="tsd-search" data-base=".">
<div class="field"><label for="tsd-search-field" class="tsd-widget tsd-toolbar-icon search no-caption"><svg width="16" height="16" viewBox="0 0 16 16" fill="none"><path d="M15.7824 13.833L12.6666 10.7177C12.5259 10.5771 12.3353 10.499 12.1353 10.499H11.6259C12.4884 9.39596 13.001 8.00859 13.001 6.49937C13.001 2.90909 10.0914 0 6.50048 0C2.90959 0 0 2.90909 0 6.49937C0 10.0896 2.90959 12.9987 6.50048 12.9987C8.00996 12.9987 9.39756 12.4863 10.5008 11.6239V12.1332C10.5008 12.3332 10.5789 12.5238 10.7195 12.6644L13.8354 15.7797C14.1292 16.0734 14.6042 16.0734 14.8948 15.7797L15.7793 14.8954C16.0731 14.6017 16.0731 14.1267 15.7824 13.833ZM6.50048 10.499C4.29094 10.499 2.50018 8.71165 2.50018 6.49937C2.50018 4.29021 4.28781 2.49976 6.50048 2.49976C8.71001 2.49976 10.5008 4.28708 10.5008 6.49937C10.5008 8.70852 8.71314 10.499 6.50048 10.499Z" fill="var(--color-text)"></path></svg></label><input type="text" id="tsd-search-field" aria-label="Search"/></div>
<div class="field">
<div id="tsd-toolbar-links"></div></div>
<ul class="results">
<li class="state loading">Preparing search index...</li>
<li class="state failure">The search index is not available</li></ul><a href="index.html" class="title">@just4/ua-info</a></div>
<div class="table-cell" id="tsd-widgets"><a href="#" class="tsd-widget tsd-toolbar-icon menu no-caption" data-toggle="menu" aria-label="Menu"><svg width="16" height="16" viewBox="0 0 16 16" fill="none"><rect x="1" y="3" width="14" height="2" fill="var(--color-text)"></rect><rect x="1" y="7" width="14" height="2" fill="var(--color-text)"></rect><rect x="1" y="11" width="14" height="2" fill="var(--color-text)"></rect></svg></a></div></div></header>
<div class="container container-main">
<div class="col-content">
<div class="tsd-page-title">
<h2>@just4/ua-info</h2></div>
<div class="tsd-panel tsd-typography"><a id="md:just4ua-info" class="tsd-anchor"></a><h1><a href="#md:just4ua-info">@just4/ua-info</a></h1><p>根据 <strong>用户代理（user agent）</strong> 字符串分析运行环境，支持设备品牌、操作系统、浏览器内核以及客户端的识别。</p>
<a id="md:安装" class="tsd-anchor"></a><h2><a href="#md:安装">安装</a></h2><pre><code class="language-bash"><span class="hl-0">npm</span><span class="hl-1"> </span><span class="hl-2">i</span><span class="hl-1"> </span><span class="hl-2">@just4/ua-info</span>
</code><button>Copy</button></pre>
<a id="md:使用" class="tsd-anchor"></a><h2><a href="#md:使用">使用</a></h2><a id="md:是否便携设备" class="tsd-anchor"></a><h3><a href="#md:是否便携设备">是否便携设备</a></h3><pre><code class="language-javascript"><span class="hl-3">import</span><span class="hl-1"> { </span><span class="hl-4">UAInfo</span><span class="hl-1"> } </span><span class="hl-3">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@just4/ua-info&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">uaInfo</span><span class="hl-1"> = </span><span class="hl-5">new</span><span class="hl-1"> </span><span class="hl-0">UAInfo</span><span class="hl-1">(</span><span class="hl-2">&#39;an user agent string, such as navigator.userAgent&#39;</span><span class="hl-1">);</span><br/><span class="hl-4">uaInfo</span><span class="hl-1">.</span><span class="hl-4">isPortable</span><span class="hl-1">; </span><span class="hl-7">// 是否便携设备</span>
</code><button>Copy</button></pre>
<a id="md:操作系统信息" class="tsd-anchor"></a><h3><a href="#md:操作系统信息">操作系统信息</a></h3><pre><code class="language-javascript"><span class="hl-3">import</span><span class="hl-1"> { </span><span class="hl-4">UAInfo</span><span class="hl-1"> } </span><span class="hl-3">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@just4/ua-info&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">uaInfo</span><span class="hl-1"> = </span><span class="hl-5">new</span><span class="hl-1"> </span><span class="hl-0">UAInfo</span><span class="hl-1">(</span><span class="hl-2">&#39;an user agent string, such as navigator.userAgent&#39;</span><span class="hl-1">);</span><br/><span class="hl-4">uaInfo</span><span class="hl-1">.</span><span class="hl-4">os</span><span class="hl-1">.</span><span class="hl-4">isWindows</span><span class="hl-1">; </span><span class="hl-7">// 是否 Windows（NT 内核，即 Windows 2000 及以上版本）</span><br/><span class="hl-4">uaInfo</span><span class="hl-1">.</span><span class="hl-4">os</span><span class="hl-1">.</span><span class="hl-4">isMacOS</span><span class="hl-1">; </span><span class="hl-7">// 是否苹果 macOS 或 OSX</span><br/><span class="hl-4">uaInfo</span><span class="hl-1">.</span><span class="hl-4">os</span><span class="hl-1">.</span><span class="hl-4">isIOS</span><span class="hl-1">; </span><span class="hl-7">// 是否苹果 iOS</span><br/><span class="hl-4">uaInfo</span><span class="hl-1">.</span><span class="hl-4">os</span><span class="hl-1">.</span><span class="hl-4">isAndroid</span><span class="hl-1">; </span><span class="hl-7">// 是否安卓</span>
</code><button>Copy</button></pre>
<a id="md:设备品牌信息" class="tsd-anchor"></a><h3><a href="#md:设备品牌信息">设备品牌信息</a></h3><p>适用于便携设备（绝大部分 PC 设备都没有品牌和型号标识，无法识别），支持以下品牌的识别：</p>
<pre><code class="language-javascript"><span class="hl-3">import</span><span class="hl-1"> { </span><span class="hl-4">UAInfo</span><span class="hl-1"> } </span><span class="hl-3">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@just4/ua-info&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">uaInfo</span><span class="hl-1"> = </span><span class="hl-5">new</span><span class="hl-1"> </span><span class="hl-0">UAInfo</span><span class="hl-1">(</span><span class="hl-2">&#39;an user agent string, such as navigator.userAgent&#39;</span><span class="hl-1">);</span><br/><span class="hl-4">uaInfo</span><span class="hl-1">.</span><span class="hl-4">brand</span><span class="hl-1">.</span><span class="hl-4">isApple</span><span class="hl-1">; </span><span class="hl-7">// 是否苹果设备</span><br/><span class="hl-4">uaInfo</span><span class="hl-1">.</span><span class="hl-4">brand</span><span class="hl-1">.</span><span class="hl-4">isIPod</span><span class="hl-1">; </span><span class="hl-7">// 是否 iPod</span><br/><span class="hl-4">uaInfo</span><span class="hl-1">.</span><span class="hl-4">brand</span><span class="hl-1">.</span><span class="hl-4">isIPhone</span><span class="hl-1">; </span><span class="hl-7">// 是否 iPhone</span><br/><span class="hl-4">uaInfo</span><span class="hl-1">.</span><span class="hl-4">brand</span><span class="hl-1">.</span><span class="hl-4">isIPad</span><span class="hl-1">; </span><span class="hl-7">// 是否 iPad</span><br/><span class="hl-4">uaInfo</span><span class="hl-1">.</span><span class="hl-4">brand</span><span class="hl-1">.</span><span class="hl-4">isMac</span><span class="hl-1">; </span><span class="hl-7">// 是否 Mac 电脑（可能是黑苹果）</span><br/><span class="hl-4">uaInfo</span><span class="hl-1">.</span><span class="hl-4">brand</span><span class="hl-1">.</span><span class="hl-4">isHuawei</span><span class="hl-1">; </span><span class="hl-7">// 是否华为设备</span><br/><span class="hl-4">uaInfo</span><span class="hl-1">.</span><span class="hl-4">brand</span><span class="hl-1">.</span><span class="hl-4">isMi</span><span class="hl-1">; </span><span class="hl-7">// 是否小米设备</span><br/><span class="hl-4">uaInfo</span><span class="hl-1">.</span><span class="hl-4">brand</span><span class="hl-1">.</span><span class="hl-4">isOppo</span><span class="hl-1">; </span><span class="hl-7">// 是否 Oppo 设备</span><br/><span class="hl-4">uaInfo</span><span class="hl-1">.</span><span class="hl-4">brand</span><span class="hl-1">.</span><span class="hl-4">isVivo</span><span class="hl-1">; </span><span class="hl-7">// 是否 Vivo 设备</span><br/><span class="hl-4">uaInfo</span><span class="hl-1">.</span><span class="hl-4">brand</span><span class="hl-1">.</span><span class="hl-4">isSamsung</span><span class="hl-1">; </span><span class="hl-7">// 是否三星设备</span><br/><span class="hl-4">uaInfo</span><span class="hl-1">.</span><span class="hl-4">brand</span><span class="hl-1">.</span><span class="hl-4">isOnePlus</span><span class="hl-1">; </span><span class="hl-7">// 是否一加设备</span>
</code><button>Copy</button></pre>
<a id="md:浏览器内核信息" class="tsd-anchor"></a><h3><a href="#md:浏览器内核信息">浏览器内核信息</a></h3><p>支持以下浏览器内核的识别：</p>
<pre><code class="language-javascript"><span class="hl-3">import</span><span class="hl-1"> { </span><span class="hl-4">UAInfo</span><span class="hl-1"> } </span><span class="hl-3">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@just4/ua-info&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">uaInfo</span><span class="hl-1"> = </span><span class="hl-5">new</span><span class="hl-1"> </span><span class="hl-0">UAInfo</span><span class="hl-1">(</span><span class="hl-2">&#39;an user agent string, such as navigator.userAgent&#39;</span><span class="hl-1">);</span><br/><span class="hl-4">uaInfo</span><span class="hl-1">.</span><span class="hl-4">borwser</span><span class="hl-1">.</span><span class="hl-4">isIE</span><span class="hl-1">; </span><span class="hl-7">// 是否 IE 内核</span><br/><span class="hl-4">uaInfo</span><span class="hl-1">.</span><span class="hl-4">browser</span><span class="hl-1">.</span><span class="hl-4">isChrome</span><span class="hl-1">; </span><span class="hl-7">// 是否 Chrome 内核</span><br/><span class="hl-4">uaInfo</span><span class="hl-1">.</span><span class="hl-4">browser</span><span class="hl-1">.</span><span class="hl-4">isSafari</span><span class="hl-1">; </span><span class="hl-7">// 是否 Safari 内核</span><br/><span class="hl-4">uaInfo</span><span class="hl-1">.</span><span class="hl-4">browser</span><span class="hl-1">.</span><span class="hl-4">isEdge</span><span class="hl-1">; </span><span class="hl-7">// 是否 Edge(EdgeHTML) 内核</span><br/><span class="hl-4">uaInfo</span><span class="hl-1">.</span><span class="hl-4">browser</span><span class="hl-1">.</span><span class="hl-4">isFirefox</span><span class="hl-1">; </span><span class="hl-7">// 是否 Firefox 内核</span><br/><span class="hl-4">uaInfo</span><span class="hl-1">.</span><span class="hl-4">browser</span><span class="hl-1">.</span><span class="hl-4">isPrestoOpera</span><span class="hl-1">; </span><span class="hl-7">// 是否 Opera(Presto) 内核</span>
</code><button>Copy</button></pre>
<a id="md:客户端（浏览器）信息" class="tsd-anchor"></a><h3><a href="#md:客户端（浏览器）信息">客户端（浏览器）信息</a></h3><p>支持以下客户端或浏览器的识别：</p>
<pre><code class="language-javascript"><span class="hl-3">import</span><span class="hl-1"> { </span><span class="hl-4">UAInfo</span><span class="hl-1"> } </span><span class="hl-3">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@just4/ua-info&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">uaInfo</span><span class="hl-1"> = </span><span class="hl-5">new</span><span class="hl-1"> </span><span class="hl-0">UAInfo</span><span class="hl-1">(</span><span class="hl-2">&#39;an user agent string, such as navigator.userAgent&#39;</span><span class="hl-1">);</span><br/><span class="hl-4">uaInfo</span><span class="hl-1">.</span><span class="hl-4">client</span><span class="hl-1">.</span><span class="hl-4">isWxWork</span><span class="hl-1">; </span><span class="hl-7">// 是否企业微信</span><br/><span class="hl-4">uaInfo</span><span class="hl-1">.</span><span class="hl-4">client</span><span class="hl-1">.</span><span class="hl-4">isWx</span><span class="hl-1">; </span><span class="hl-7">// 是否微信</span><br/><span class="hl-4">uaInfo</span><span class="hl-1">.</span><span class="hl-4">client</span><span class="hl-1">.</span><span class="hl-4">isDing</span><span class="hl-1">; </span><span class="hl-7">// 是否钉钉</span><br/><span class="hl-4">uaInfo</span><span class="hl-1">.</span><span class="hl-4">client</span><span class="hl-1">.</span><span class="hl-4">isQQ</span><span class="hl-1">; </span><span class="hl-7">// 是否 QQ</span><br/><span class="hl-4">uaInfo</span><span class="hl-1">.</span><span class="hl-4">client</span><span class="hl-1">.</span><span class="hl-4">isWeibo</span><span class="hl-1">; </span><span class="hl-7">// 是否微博</span><br/><span class="hl-4">uaInfo</span><span class="hl-1">.</span><span class="hl-4">client</span><span class="hl-1">.</span><span class="hl-4">isEdge</span><span class="hl-1">; </span><span class="hl-7">// 是否 Edge 浏览器</span><br/><span class="hl-4">uaInfo</span><span class="hl-1">.</span><span class="hl-4">client</span><span class="hl-1">.</span><span class="hl-4">isOpera</span><span class="hl-1">; </span><span class="hl-7">// 是否 Opera 浏览器</span><br/><span class="hl-4">uaInfo</span><span class="hl-1">.</span><span class="hl-4">client</span><span class="hl-1">.</span><span class="hl-4">isQQBrowser</span><span class="hl-1">; </span><span class="hl-7">// 是否 QQ 浏览器</span><br/><span class="hl-4">uaInfo</span><span class="hl-1">.</span><span class="hl-4">client</span><span class="hl-1">.</span><span class="hl-4">isUCBrowser</span><span class="hl-1">; </span><span class="hl-7">// 是否 UC 浏览器</span><br/><span class="hl-4">uaInfo</span><span class="hl-1">.</span><span class="hl-4">client</span><span class="hl-1">.</span><span class="hl-4">isQuark</span><span class="hl-1">; </span><span class="hl-7">// 是否夸克浏览器</span><br/><span class="hl-4">uaInfo</span><span class="hl-1">.</span><span class="hl-4">client</span><span class="hl-1">.</span><span class="hl-4">isMaxthon</span><span class="hl-1">; </span><span class="hl-7">// 是否傲游浏览器</span><br/><span class="hl-4">uaInfo</span><span class="hl-1">.</span><span class="hl-4">client</span><span class="hl-1">.</span><span class="hl-4">isTheWorld</span><span class="hl-1">; </span><span class="hl-7">// 是否世界之窗浏览器</span><br/><span class="hl-4">uaInfo</span><span class="hl-1">.</span><span class="hl-4">client</span><span class="hl-1">.</span><span class="hl-4">isBaiduBrowser</span><span class="hl-1">; </span><span class="hl-7">// 是否百度浏览器</span><br/><span class="hl-4">uaInfo</span><span class="hl-1">.</span><span class="hl-4">client</span><span class="hl-1">.</span><span class="hl-4">isBaiduApp</span><span class="hl-1">; </span><span class="hl-7">// 是否百度 app</span><br/><span class="hl-4">uaInfo</span><span class="hl-1">.</span><span class="hl-4">client</span><span class="hl-1">.</span><span class="hl-4">isChrome</span><span class="hl-1">; </span><span class="hl-7">// 是否 Chrome 浏览器</span><br/><span class="hl-4">uaInfo</span><span class="hl-1">.</span><span class="hl-4">client</span><span class="hl-1">.</span><span class="hl-4">isSafari</span><span class="hl-1">; </span><span class="hl-7">// 是否 Safari 浏览器</span><br/><span class="hl-4">uaInfo</span><span class="hl-1">.</span><span class="hl-4">client</span><span class="hl-1">.</span><span class="hl-4">isIE</span><span class="hl-1">; </span><span class="hl-7">// 是否 IE 浏览器</span><br/><span class="hl-4">uaInfo</span><span class="hl-1">.</span><span class="hl-4">client</span><span class="hl-1">.</span><span class="hl-4">isFirefox</span><span class="hl-1">; </span><span class="hl-7">// 是否 Firefox 浏览器</span>
</code><button>Copy</button></pre>
<a id="md:版本号属性" class="tsd-anchor"></a><h3><a href="#md:版本号属性">版本号属性</a></h3><p>部分信息项，包括操作系统、浏览器内核和客户端，都有对应的版本号属性（version），该属性的值是一个 <code>Version</code> 对象。该对象可以进行版本号的对比：</p>
<pre><code class="language-javascript"><span class="hl-3">import</span><span class="hl-1"> { </span><span class="hl-4">UAInfo</span><span class="hl-1"> } </span><span class="hl-3">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@just4/ua-info&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">uaInfo</span><span class="hl-1"> = </span><span class="hl-5">new</span><span class="hl-1"> </span><span class="hl-0">UAInfo</span><span class="hl-1">(</span><span class="hl-2">&#39;Mozilla/5.0 (Macintosh; Intel Mac OS X 10_6_8) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/49.0.2623.112 Safari/537.36&#39;</span><span class="hl-1">);</span><br/><span class="hl-4">uaInfo</span><span class="hl-1">.</span><span class="hl-4">browser</span><span class="hl-1">.</span><span class="hl-4">isChrome</span><span class="hl-1">; </span><span class="hl-7">// true</span><br/><span class="hl-4">uaInfo</span><span class="hl-1">.</span><span class="hl-4">browser</span><span class="hl-1">.</span><span class="hl-4">version</span><span class="hl-1">.</span><span class="hl-0">toString</span><span class="hl-1">(); </span><span class="hl-7">// &quot;49.0.2623.112&quot;</span><br/><span class="hl-4">uaInfo</span><span class="hl-1">.</span><span class="hl-4">browser</span><span class="hl-1">.</span><span class="hl-4">version</span><span class="hl-1">.</span><span class="hl-0">gt</span><span class="hl-1">(</span><span class="hl-2">&#39;49&#39;</span><span class="hl-1">); </span><span class="hl-7">// true</span><br/><span class="hl-4">uaInfo</span><span class="hl-1">.</span><span class="hl-4">browser</span><span class="hl-1">.</span><span class="hl-4">version</span><span class="hl-1">.</span><span class="hl-0">lt</span><span class="hl-1">(</span><span class="hl-2">&#39;40&#39;</span><span class="hl-1">); </span><span class="hl-7">// false</span>
</code><button>Copy</button></pre>
<a id="md:其他说明" class="tsd-anchor"></a><h2><a href="#md:其他说明">其他说明</a></h2><a id="md:获取当前运行环境的实例" class="tsd-anchor"></a><h3><a href="#md:获取当前运行环境的实例">获取当前运行环境的实例</a></h3><p>通过 <code>getCurrentUAInfo</code> 函数可以获取当前运行环境的 <code>UAInfo</code> 实例。注意，该函数返回的实例经过 <code>Object.freeze</code> 处理。</p>
<pre><code class="language-javascript"><span class="hl-3">import</span><span class="hl-1"> { </span><span class="hl-4">getCurrentUAInfo</span><span class="hl-1"> } </span><span class="hl-3">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@just4/ua-info&#39;</span><span class="hl-1">;</span><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">uaInfo</span><span class="hl-1"> = </span><span class="hl-0">getCurrentUAInfo</span><span class="hl-1">();</span>
</code><button>Copy</button></pre>
<a id="md:ipad-or-macbook-ios-or-macos" class="tsd-anchor"></a><h3><a href="#md:ipad-or-macbook-ios-or-macos">iPad or MacBook? iOS or macOS?</a></h3><p>在 iOS 13 之后，iPad Air 与 iPad Pro 的用户代理变更为 MacBook 的用户代理。针对这种情况，可以传入特性信息辅助识别（当前运行环境的 <code>UAInfo</code> 实例已经做了这个操作）：</p>
<pre><code class="language-javascript"><span class="hl-7">// 假设浏览器 user agent 为：</span><br/><span class="hl-7">// Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_4) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/13.1.1 Safari/605.1.15</span><br/><br/><span class="hl-3">import</span><span class="hl-1"> { </span><span class="hl-4">UAInfo</span><span class="hl-1">, </span><span class="hl-4">getCurrentUAInfo</span><span class="hl-1"> } </span><span class="hl-3">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@just4/ua-info&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-7">// 当前运行环境的 UAInfo 实例</span><br/><span class="hl-0">getCurrentUAInfo</span><span class="hl-1">().</span><span class="hl-4">os</span><span class="hl-1">.</span><span class="hl-4">isIOS</span><span class="hl-1">; </span><span class="hl-7">// true</span><br/><span class="hl-0">getCurrentUAInfo</span><span class="hl-1">().</span><span class="hl-4">brand</span><span class="hl-1">.</span><span class="hl-4">isIPad</span><span class="hl-1">; </span><span class="hl-7">// true</span><br/><span class="hl-0">getCurrentUAInfo</span><span class="hl-1">().</span><span class="hl-4">brand</span><span class="hl-1">.</span><span class="hl-4">isMac</span><span class="hl-1">; </span><span class="hl-7">// false</span><br/><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">uaInfo1</span><span class="hl-1"> = </span><span class="hl-5">new</span><span class="hl-1"> </span><span class="hl-0">UAInfo</span><span class="hl-1">(</span><span class="hl-4">navigator</span><span class="hl-1">.</span><span class="hl-4">userAgent</span><span class="hl-1">, {</span><br/><span class="hl-1">  </span><span class="hl-4">maxTouchPoints:</span><span class="hl-1"> </span><span class="hl-4">navigator</span><span class="hl-1">.</span><span class="hl-4">maxTouchPoints</span><br/><span class="hl-1">});</span><br/><span class="hl-4">uaInfo1</span><span class="hl-1">.</span><span class="hl-4">os</span><span class="hl-1">.</span><span class="hl-4">isIOS</span><span class="hl-1">; </span><span class="hl-7">// true</span><br/><span class="hl-4">uaInfo1</span><span class="hl-1">.</span><span class="hl-4">brand</span><span class="hl-1">.</span><span class="hl-4">isIPad</span><span class="hl-1">; </span><span class="hl-7">// true</span><br/><span class="hl-4">uaInfo1</span><span class="hl-1">.</span><span class="hl-4">brand</span><span class="hl-1">.</span><span class="hl-4">isMac</span><span class="hl-1">; </span><span class="hl-7">// false</span><br/><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">uaInfo2</span><span class="hl-1"> = </span><span class="hl-5">new</span><span class="hl-1"> </span><span class="hl-0">UAInfo</span><span class="hl-1">(</span><span class="hl-4">navigator</span><span class="hl-1">.</span><span class="hl-4">userAgent</span><span class="hl-1">);</span><br/><span class="hl-4">uaInfo2</span><span class="hl-1">.</span><span class="hl-4">os</span><span class="hl-1">.</span><span class="hl-4">isIOS</span><span class="hl-1">; </span><span class="hl-7">// false</span><br/><span class="hl-4">uaInfo2</span><span class="hl-1">.</span><span class="hl-4">brand</span><span class="hl-1">.</span><span class="hl-4">isIPad</span><span class="hl-1">; </span><span class="hl-7">// false</span><br/><span class="hl-4">uaInfo2</span><span class="hl-1">.</span><span class="hl-4">brand</span><span class="hl-1">.</span><span class="hl-4">isMac</span><span class="hl-1">; </span><span class="hl-7">// true</span>
</code><button>Copy</button></pre>
<a id="md:浏览器内核与客户端" class="tsd-anchor"></a><h3><a href="#md:浏览器内核与客户端">浏览器内核与客户端</a></h3><p>这两个概念比较容易混淆。举个例子，Edge 浏览器原来使用的是自身的浏览器内核，但后来改成了使用 Chrome 的内核。</p>
<p>对于旧版 Edge 浏览器而言，它的浏览器内核以及客户端都是 Edge；对于新版 Edge 浏览器而言，它的浏览器内核是 Chrome，客户端是 Edge。例如：</p>
<pre><code class="language-javascript"><span class="hl-3">import</span><span class="hl-1"> { </span><span class="hl-4">UAInfo</span><span class="hl-1"> } </span><span class="hl-3">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@just4/ua-info&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">uaOfOldEdge</span><span class="hl-1"> = </span><span class="hl-2">&#39;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/64.0.3282.140 Safari/537.36 Edge/18.17763&#39;</span><span class="hl-1">;</span><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">uaInfoOfOldEdge</span><span class="hl-1"> = </span><span class="hl-5">new</span><span class="hl-1"> </span><span class="hl-0">UAInfo</span><span class="hl-1">(</span><span class="hl-4">uaOfOldEdge</span><span class="hl-1">);</span><br/><span class="hl-4">uaInfoOfOldEdge</span><span class="hl-1">.</span><span class="hl-4">browser</span><span class="hl-1">.</span><span class="hl-4">isChrome</span><span class="hl-1">; </span><span class="hl-7">// false</span><br/><span class="hl-4">uaInfoOfOldEdge</span><span class="hl-1">.</span><span class="hl-4">browser</span><span class="hl-1">.</span><span class="hl-4">isEdge</span><span class="hl-1">; </span><span class="hl-7">// true</span><br/><span class="hl-4">uaInfoOfOldEdge</span><span class="hl-1">.</span><span class="hl-4">client</span><span class="hl-1">.</span><span class="hl-4">isEdge</span><span class="hl-1">; </span><span class="hl-7">// true</span><br/><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">uaOfNewEdge</span><span class="hl-1"> = </span><span class="hl-2">&#39;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/91.0.4501.0 Safari/537.36 Edg/91.0.866.0&#39;</span><span class="hl-1">;</span><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">uaInfoOfNewEdge</span><span class="hl-1"> = </span><span class="hl-5">new</span><span class="hl-1"> </span><span class="hl-0">UAInfo</span><span class="hl-1">(</span><span class="hl-4">uaOfNewEdge</span><span class="hl-1">);</span><br/><span class="hl-4">uaInfoOfNewEdge</span><span class="hl-1">.</span><span class="hl-4">browser</span><span class="hl-1">.</span><span class="hl-4">isChrome</span><span class="hl-1">; </span><span class="hl-7">// true</span><br/><span class="hl-4">uaInfoOfNewEdge</span><span class="hl-1">.</span><span class="hl-4">browser</span><span class="hl-1">.</span><span class="hl-4">isEdge</span><span class="hl-1">; </span><span class="hl-7">// false</span><br/><span class="hl-4">uaInfoOfNewEdge</span><span class="hl-1">.</span><span class="hl-4">client</span><span class="hl-1">.</span><span class="hl-4">isEdge</span><span class="hl-1">; </span><span class="hl-7">// true</span>
</code><button>Copy</button></pre>
<a id="md:chrome-与-safari-的识别问题" class="tsd-anchor"></a><h3><a href="#md:chrome-与-safari-的识别问题">Chrome 与 Safari 的识别问题</a></h3><p>由于大量浏览器使用的都是 Chrome 内核，无法一一枚举排除，部分甚至没有在用户代理字符串上增加独立的标识（例如 PC 端的 360 浏览器）。因此，客户端信息的 <code>isChrome</code> 为 <code>true</code> 时，不一定是 Chrome 浏览器。</p>
<p>而对于移动端浏览器以及 WebView 而言，它们的用户代理字符串中有可能包含 Safari 浏览器的关键字，所以即使客户端信息的 <code>isSafari</code> 为 <code>true</code>，也不一定是 Safari 浏览器。</p>
<a id="md:识别范围" class="tsd-anchor"></a><h3><a href="#md:识别范围">识别范围</a></h3><p>考虑到代码体积和性能，本项目仅支持主流操作系统、浏览器内核、客户端以及常见品牌的识别，如果您需要范围更广的识别，请使用 <a href="https://www.npmjs.com/package/uadetector">uadetector</a>（本项目的识别规则也来自 uadetector）。</p>
<a id="md:相关文档" class="tsd-anchor"></a><h2><a href="#md:相关文档">相关文档</a></h2><ul>
<li><a href="https://heeroluo.github.io/just4/ua-info/modules/index.html">API 文档</a></li>
</ul>
<a id="md:changelog" class="tsd-anchor"></a><h2><a href="#md:changelog">Changelog</a></h2><a id="md:v110" class="tsd-anchor"></a><h3><a href="#md:v110">v1.1.0</a></h3><ul>
<li>更新两条小米手机的识别规则。</li>
</ul>
</div></div>
<div class="col-sidebar">
<div class="page-menu">
<div class="tsd-navigation settings">
<details class="tsd-index-accordion"><summary class="tsd-accordion-summary">
<h3><svg width="20" height="20" viewBox="0 0 24 24" fill="none"><path d="M4.93896 8.531L12 15.591L19.061 8.531L16.939 6.409L12 11.349L7.06098 6.409L4.93896 8.531Z" fill="var(--color-text)" id="icon-chevronDown"></path></svg>Settings</h3></summary>
<div class="tsd-accordion-details">
<div class="tsd-filter-visibility">
<h4 class="uppercase">Member Visibility</h4><form>
<ul id="tsd-filter-options">
<li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-protected" name="protected"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Protected</span></label></li>
<li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-inherited" name="inherited" checked/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Inherited</span></label></li>
<li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-external" name="external"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>External</span></label></li></ul></form></div>
<div class="tsd-theme-toggle">
<h4 class="uppercase">Theme</h4><select id="tsd-theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></div></div></details></div>
<details open class="tsd-index-accordion tsd-page-navigation"><summary class="tsd-accordion-summary">
<h3><svg width="20" height="20" viewBox="0 0 24 24" fill="none"><use href="#icon-chevronDown"></use></svg>On This Page</h3></summary>
<div class="tsd-accordion-details">
<ul>
<li>
<ul>
<li><a href="#md:just4ua-info"><span>@just4/ua-<wbr/>info</span></a></li>
<li>
<ul>
<li><a href="#md:安装"><span>安装</span></a></li>
<li><a href="#md:使用"><span>使用</span></a></li>
<li>
<ul>
<li><a href="#md:是否便携设备"><span>是否便携设备</span></a></li>
<li><a href="#md:操作系统信息"><span>操作系统信息</span></a></li>
<li><a href="#md:设备品牌信息"><span>设备品牌信息</span></a></li>
<li><a href="#md:浏览器内核信息"><span>浏览器内核信息</span></a></li>
<li><a href="#md:客户端（浏览器）信息"><span>客户端（浏览器）信息</span></a></li>
<li><a href="#md:版本号属性"><span>版本号属性</span></a></li></ul></li>
<li><a href="#md:其他说明"><span>其他说明</span></a></li>
<li>
<ul>
<li><a href="#md:获取当前运行环境的实例"><span>获取当前运行环境的实例</span></a></li>
<li><a href="#md:ipad-or-macbook-ios-or-macos"><span>i<wbr/>Pad or <wbr/>Mac<wbr/>Book? iOS or macOS?</span></a></li>
<li><a href="#md:浏览器内核与客户端"><span>浏览器内核与客户端</span></a></li>
<li><a href="#md:chrome-与-safari-的识别问题"><span>Chrome 与 <wbr/>Safari 的识别问题</span></a></li>
<li><a href="#md:识别范围"><span>识别范围</span></a></li></ul></li>
<li><a href="#md:相关文档"><span>相关文档</span></a></li>
<li><a href="#md:changelog"><span>Changelog</span></a></li>
<li>
<ul>
<li><a href="#md:v110"><span>v1.1.0</span></a></li></ul></li></ul></li></ul></li></ul></div></details></div>
<div class="site-menu">
<nav class="tsd-navigation"><a href="index.html" class="current"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><g id="icon-4"><rect fill="var(--color-icon-background)" stroke="var(--color-ts-namespace)" stroke-width="1.5" x="1" y="1" width="22" height="22" rx="6"></rect><path d="M9.33 16V7.24H10.77L13.446 14.74C13.43 14.54 13.41 14.296 13.386 14.008C13.37 13.712 13.354 13.404 13.338 13.084C13.33 12.756 13.326 12.448 13.326 12.16V7.24H14.37V16H12.93L10.266 8.5C10.282 8.692 10.298 8.936 10.314 9.232C10.33 9.52 10.342 9.828 10.35 10.156C10.366 10.476 10.374 10.784 10.374 11.08V16H9.33Z" fill="var(--color-text)"></path></g></svg><span>@just4/ua-<wbr/>info</span></a>
<ul class="tsd-small-nested-navigation">
<li><a href="modules/brand_info.html"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="#icon-4"></use></svg><span>brand-<wbr/>info</span></a></li>
<li><a href="modules/browser_info.html"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="#icon-4"></use></svg><span>browser-<wbr/>info</span></a></li>
<li><a href="modules/client_info.html"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="#icon-4"></use></svg><span>client-<wbr/>info</span></a></li>
<li><a href="modules/index.html"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="#icon-4"></use></svg><span>index</span></a></li>
<li><a href="modules/os_info.html"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="#icon-4"></use></svg><span>os-<wbr/>info</span></a></li>
<li><a href="modules/types.html"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="#icon-4"></use></svg><span>types</span></a></li>
<li><a href="modules/ua_info.html"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="#icon-4"></use></svg><span>ua-<wbr/>info</span></a></li>
<li><a href="modules/version.html"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="#icon-4"></use></svg><span>version</span></a></li></ul></nav></div></div></div>
<div class="tsd-generator">
<p>Generated using <a href="https://typedoc.org/" rel="noopener" target="_blank">TypeDoc</a></p></div>
<div class="overlay"></div></body></html>